(function(){$.fn.dataTable=function(S){var B={"bPaginate":true,"bLengthChange":true,"bFilter":true,"bSort":true,"bInfo":true,"bProcessing":true};var D=new Array();var H=new Array();var J=new Array();var C=new Array();var G="";var U=null;var M=null;var d=10;var X=0;var E=10;var c=null;var Z=0;var Q="No matching records found";var F=new Array();var T=null;this.fnDraw=function(){a();O(this)};this.fnFilter=function(f){P(this,f,1)};this.fnSort=function(f){_fnSort(this,f)};this.fnAddRow=function(f){if(f.length==J.length){J[J.length++]=f.slice();H=J.slice();e(1);_fnSort(this,c);_fnSort(this,c);if(B.bFilter){P(this,G)}else{a();O(oTable)}return 0}else{return 1}};this.fnDeleteRow=function(f){J.splice(f,1);H=J.slice();e(1);if(B.bFilter){P(this,G)}else{a();O(oTable)}};function Y(f){D[D.length++]={"sType":null,"bVisible":true,"bSearchable":true,"bSortable":true,"sTitle":null,"sWidth":null,"sClass":null,"fnRender":null,"fnSort":null};if(typeof f!="undefined"&&f!=null){if(typeof f.sType!="undefined"){D[D.length-1].sType=f.sType}if(typeof f.bVisible!="undefined"){D[D.length-1].bVisible=f.bVisible}if(typeof f.bSearchable!="undefined"){D[D.length-1].bSearchable=f.bSearchable}if(typeof f.bSortable!="undefined"){D[D.length-1].bSortable=f.bSortable}if(typeof f.sTitle!="undefined"){D[D.length-1].sTitle=f.sTitle}if(typeof f.sWidth!="undefined"){D[D.length-1].sWidth=f.sWidth}if(typeof f.sClass!="undefined"){D[D.length-1].sClass=f.sClass}if(typeof f.fnRender!="undefined"){D[D.length-1].fnRender=f.fnRender}if(typeof f.fnSort!="undefined"){D[D.length-1].fnSort=f.fnSort}}}function I(f){var h;for(var g=0;g<D.length;g++){if(D[g].sTitle==null){D[g].sTitle=$("thead th:nth-child("+(g+1)+")",f).text()}$("tbody td:nth-child("+D.length+"n+"+(g+1)+")",f).each(function(k){if(typeof H[k]!="object"){H[k]=new Array()}H[k][g]=this.innerHTML;if(D[g].sType==null){D[g].sType=N(H[k][g])}else{if(D[g].sType=="date"||D[g].sType=="numeric"){D[g].sType=N(H[k][g])}}})}}function N(f){if(b(f)){return"numeric"}else{if(!isNaN(Date.parse(f))){return"date"}else{return"string"}}}function b(g){var h="0123456789.";var f;for(i=0;i<g.length;i++){f=g.charAt(i);if(h.indexOf(f)==-1){return false}}return true}function L(g,k){var n=document.createElement("tr");var m;for(var h=0;h<D.length;h++){if(D[h].bVisible){m=document.createElement("th");if(h==k){m.className="sorting_asc"}var l="";if(D[h].sWidth!=null){m.style.width=D[h].sWidth}m.innerHTML=D[h].sTitle;n.appendChild(m)}}$("thead",g).html("")[0].appendChild(n);if(g.getElementsByTagName("tfoot").length!=0){var f=n.cloneNode(true);$("th",f).removeClass("sorting_asc");$("tfoot",g).html("")[0].appendChild(f)}if(B.bSort){$("thead th",g).click(function(){if(B.bProcessing){A(true)}var o=$("thead th",g).index(this);for(var p=0;p<D.length;p++){if(this.innerHTML==D[p].sTitle){o=p;break}}_fnSort(g,o);$("thead th",g).removeClass("sorting_asc").removeClass("sorting_desc");if(Z==0){this.className="sorting_asc"}else{this.className="sorting_desc"}if(B.bProcessing){A(false)}})}g.style.width=g.offsetWidth+"px"}function O(g){var o=new Array();var l="";var m=0;var f;var k;if(H.length!=0){for(var h=X;h<E;h++){o[m]=document.createElement("tr");if(F.length>0){o[m].className=F[m%F.length]}for(k=0;k<D.length;k++){if(D[k].bVisible){f=document.createElement("td");f.setAttribute("valign","top");if(c==k&&D[k].sClass!=null){f.className=D[k].sClass+" sorting"}else{if(c==k){f.className="sorting"}else{if(D[k].sClass!=null){f.className=D[k].sClass}}}if(typeof D[k].fnRender=="function"){f.innerHTML=D[k].fnRender({"iDataRow":h,"iDataColumn":k,"aData":H})}else{f.innerHTML=H[h][k]}o[m].appendChild(f)}}if(typeof T=="function"){o[m]=T(o[m],H[h],m)}m++}}else{o[0]=document.createElement("tr");f=document.createElement("td");f.setAttribute("valign","top");f.colSpan=D.length;f.style.textAlign="center";f.innerHTML=Q;o[m].appendChild(f)}var n=$("tbody",g);n.html("");for(k=0;k<o.length;k++){n[0].appendChild(o[k])}if(B.bPaginate){document.getElementById(g.getAttribute("id")+"_previous").className=(X==0)?"paginate_disabled_previous":"paginate_enabled_previous";document.getElementById(g.getAttribute("id")+"_next").className=(E==H.length)?"paginate_disabled_next":"paginate_enabled_next"}if(B.bInfo){if(H.length==0&&H.length==J.length){U.innerHTML="Showing 0 to 0 of 0 entries"}else{if(H.length==0){U.innerHTML="Showing 0 to 0 of 0 entries (filtered from "+J.length+" total entries)"}else{if(H.length==J.length){U.innerHTML="Showing "+(X+1)+" to "+E+" of "+H.length+" entries"}else{U.innerHTML="Showing "+(X+1)+" to "+H.length+" of "+E+" entries (filtered from "+J.length+" total entries)"}}}}}function W(g){if(B.bFilter){var h=document.createElement("div");h.setAttribute("id",g.getAttribute("id")+"_filter");h.innerHTML='Search: <input type="text" name="'+g.getAttribute("id")+'_filter">';g.parentNode.insertBefore(h,g);$("input[name='"+g.getAttribute("id")+"_filter']").keyup(function(){P(g,this.value)})}if(B.bInfo){U=document.createElement("div");U.setAttribute("id",g.getAttribute("id")+"_info");$(U).insertAfter(g)}if(B.bPaginate){var n=document.createElement("div");var l=document.createElement("div");var f=document.createElement("div");n.setAttribute("id",g.getAttribute("id")+"_paginate");l.setAttribute("id",g.getAttribute("id")+"_previous");f.setAttribute("id",g.getAttribute("id")+"_next");l.className="paginate_disabled_previous";f.className="paginate_disabled_next";n.appendChild(l);n.appendChild(f);$(n).insertAfter(g);$(l).click(function(){X-=d;if(X<0){X=0}a();O(g)});$(f).click(function(){if(X+d<H.length){X+=d}a();O(g)});if(B.bLengthChange){var k=document.createElement("div");k.setAttribute("id",g.getAttribute("id")+"_length");k.innerHTML='Show <select size="1" name="'+g.getAttribute("id")+'_length"><option value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> entries';g.parentNode.insertBefore(k,g);$("select",k).change(function(){d=parseInt($(this).val());a();O(g)})}var m=document.createElement("div");m.setAttribute("id",g.getAttribute("id")+"_wrapper");g.parentNode.insertBefore(m,g);m.appendChild(g)}if(B.bProcessing){M=document.createElement("div");M.setAttribute("id",g.getAttribute("id")+"_processing");M.appendChild(document.createTextNode("Processing..."));M.className="dataTables_processing";M.style.visibility="hidden";g.parentNode.insertBefore(M,g)}}function A(f){if(f){M.style.visibility="visible"}else{M.style.visibility="hidden"}}function V(k,g){if(!k||k==null||k==""){return 0}if(typeof g=="undefined"){g=document.getElementsByTagName("body")[0]}var h;var f=document.createElement("div");f.style.width=k;g.appendChild(f);h=f.offsetWidth;g.removeChild(f);return(h)}function P(q,r,f){var p,o,m;var n=new Array();if(typeof f=="undefined"){f=0}var h=r.split(" ");var k="^(?=.*?"+h.join(")(?=.*?")+").*$";var l=new RegExp(k,"i");if(r.length<=0){H.splice(0,H.length);H=J.slice()}else{if(H.length==J.length||G.length>r.length||f==1){n.splice(0,n.length);e(1);for(o=0;o<J.length;o++){if(l.test(C[o])){n[n.length++]=J[o]}}H=n}else{var g=0;for(o=0;o<H.length;o++){if(!l.test(C[o])){H.splice(o-g,1);g++}}}G=r}X=0;a();O(q);e(0)}function a(){if(X+d>H.length){E=H.length}else{E=X+d}}_fnSort=function(g,f){if(!D[f].bSortable){return }if(f==c){J.reverse();Z=(Z==0)?1:0}else{c=f;Z=0;if(typeof D[f].fnSort=="function"){J.sort(D[f].fnSort)}else{if(D[f].sType=="numeric"){J.sort(function(k,h){return k[f]-h[f]})}else{if(D[f].sType=="date"){J.sort(function(l,k){var h=Date.parse(l[f]);var m=Date.parse(k[f]);return h-m})}else{J.sort(function(l,k){var h=l[f];var m=k[f];return((h<m)?-1:((h>m)?1:0))})}}}}if(B.bFilter){P(g,G,1)}else{H=J.slice()}O(g)};function e(f){C.splice(0,C.length);var g=(typeof f!="undefined"&&f==1)?J:H;for(i=0;i<g.length;i++){C[i]="";for(j=0;j<D.length;j++){if(D[j].bSearchable){C[i]+=g[i][j]+" "}}}}function K(l){var s=l.offsetWidth;var o=0;var q;var g=0;var k;var t=$("thead th",l);for(var k=0;k<D.length;k++){if(D[k].bVisible){g++;if(D[k].sWidth!=null){q=V(D[k].sWidth,l.parentNode);o+=q;D[k].sWidth=q+"px"}}}if(D.length==t.length&&o==0){for(k=0;k<D.length;k++){D[k].sWidth=t[k].offsetWidth+"px"}}else{var n=l.cloneNode(false);n.setAttribute("id","");n.style.width=s+"px";var f="<tr>";var p="<tr>";for(var k=0;k<D.length;k++){if(D[k].bVisible){f+="<th>"+D[k].sTitle+"</th>";if(D[k].sWidth!=null){var h="";if(D[k].sWidth!=null){h=' style="width:'+D[k].sWidth+';"'}p+="<td"+h+' tag_index="'+k+'">'+R(k)+"</td>"}else{p+='<td tag_index="'+k+'">'+R(k)+"</td>"}}}f+="</tr>";p+="</tr>";n.innerHTML=f+p;n.style.visibility="hidden";n.style.position="absolute";l.parentNode.appendChild(n);var r=$("td",n);var m;for(k=0;k<r.length;k++){m=r[k].getAttribute("tag_index");D[m].sWidth=$("td",n)[k].offsetWidth+"px"}l.parentNode.removeChild(n)}}function R(g){var f=0;var k=-1;for(var h=0;h<J.length;h++){if(J[h][g].length>f){f=J[h][g].length;k=h}}if(k>=0){return J[k][g]}else{return""}}return this.each(function(){var f=0;if(typeof S!="undefined"&&S!=null){if(typeof S.bPaginate!="undefined"){B.bPaginate=S.bPaginate}if(typeof S.bLengthChange!="undefined"){B.bLengthChange=S.bLengthChange}if(typeof S.bFilter!="undefined"){B.bFilter=S.bFilter}if(typeof S.bSort!="undefined"){B.bSort=S.bSort}if(typeof S.bInfo!="undefined"){B.bInfo=S.bInfo}if(typeof S.bProcessing!="undefined"){B.bProcessing=S.bProcessing}if(typeof S.iDisplayLength!="undefined"){d=S.iDisplayLength}if(typeof S.sZeroRecords!="undefined"){Q=S.sZeroRecords}if(typeof S.asStripClasses!="undefined"){F=S.asStripClasses}else{F=["odd","even"]}if(typeof S.fnRowCallback!="undefined"){T=S.fnRowCallback}if(typeof S.iDefaultSortIndex!="undefined"){S.iDefaultSortIndex=S.iDefaultSortIndex}}if(typeof S!="undefined"&&typeof S.aoData!="undefined"){for(var g=0;g<S.aoData.length;g++){Y(S.aoData[g])}}else{$("thead th",this).each(function(){Y(null)})}I(this);J=H.slice();K(this);W(this);L(this,f);if(B.bSort){_fnSort(this,f)}else{O(this)}})}})(jQuery)